<div id='modify'>
  <div class='row'>
    <div class='col-md-6'>
      <h4>Modify Results</h4>
      <p>
        You can write a javascript function to transform your results to your liking.
        The function you write takes in the data argument, a javascript object representation of your APIs JSON endpoint.
        The modified version of your JSON endpoint will consist of whatever your functions returns.
        You can access this modified version of your data by adding the kimmodify=1 parameter to your API call.
        When retrieving modified results, the only available output format is JSON. See examples below.
      </p>
    </div>
  </div>
  <div class='row'>
    <div class='col-md-6'>
      <h5>Filter function</h5>
      <form ng-submit='updateDataPreview()' ng-model='route.transformFn'>
        <pre id='editor'></pre>
        <button ng-show='!editing.transformFn' type='submit' class='btn-nodemono'>Apply</button>
        <!-- <button ng-show='editing.transformFn' class='btn-nodemono' style='background: green;' ng-click='saveModifiedData()'>Save</button> -->
        <button type='reset' class='btn-nodemono' ng-click='revertData()'>Clear function</button>
        <!-- <span ng-show='editing.transformFn' class='td-status-info' style='color: green;'>Applying transformation...</span> -->
      </form>
    </div>
    <div class='col-md-6'>
      <h5>Result preview</h5>
      <pre class='preview' ng-bind='modifiedData | json'></pre>
    </div>
  </div>
</div>
