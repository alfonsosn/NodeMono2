<div class="main-container">

 	<div class="col-lg-2" id="pipes-sidebar">
	    <div class="todo">

	        <div class="todo-search">
	          	<h6> <span class="fui-arrow-right">
	            </span> Your API Routes</h6>
	        </div>

	        <ul class="ul-disactive" ng-repeat="route in routes">
	    		<route route="route" toggle="toggleRoute(route)"></route>
	        </ul>

	        <div class="todo-search">
	            <h6> <span class="fui-arrow-right"> Your Pipes</h6>     
	        </div>

	        <ul ng-repeat="pipe in pipes">
	    		<pipe pipe="pipe" toggle="togglePipe(pipe)" get="getPipedData(pipe)"></pipe>
	        </ul>
	    </div>
	</div>

	<div class="col-lg-8" id="pipes-content">
		<div class="alert alert-danger" role="alert" ng-if="error">
			<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
			<span>Status: {{error.status}} -- {{error.data}}</span>
		</div>

		<div class="row">
			<div class="col-sm-12" id="pipesCanvas">
					
				<h2>Pipes Canvas</h2>
				<h3>Select Filters <a class="btn btn-warning" ng-click="toggleCustomFilter()">Custom Filter</a></h3>
				<div ng-if="customizingFilter">
					<custom-filter-form></custom-filter-form>
				</div>

			</div>
			<div class="col-sm-12">
				<h3>Pipe name: <input ng-model="pipe.name"></h3>
				<h3>Inputs (pipes and routes): </h3>
				<ul>
					<li ng-repeat="route in pipe.inputs.routes">
						Name: {{route.name}}
						<a class="btn btn-xs btn-danger" ng-click="deselectRoute(route)">X</a>
					</li>
				</ul>
				<ul>
					<li ng-repeat="pipe in pipe.inputs.pipes">
						Name: {{pipe.name}}
						<a class="btn btn-xs btn-danger" ng-click="deselectPipe(pipe)">X</a>
					</li>
				</ul>
			</div>
			<div class="col-sm-12">
				<h3>Filters: </h3>
				<ul>
					<li ng-repeat="filter in pipe.filters">
						<active-filter filter="filter" deselect="deselectFilter(filter)" save="saveFilter(filter)"></active-filter>
					</li>
				</ul>
			</div>
			<div class="col-sm-12">
				<h3>Output: 
					<a class="btn btn-info" ng-click="generateOutput()">Generate Output</a> 
					<a class="btn btn-primary" ng-click="savePipe()">Save Pipe</a>
				</h3>
				<pre>{{pipe.output | json}}</pre>

			</div>
		</div>
	</div>

	<div class="container col-lg-2" id="filter-sidebar">
		<h4>Select Filters</h4>
			<span ng-repeat="filter in filters">
				<filter filter="filter" select="selectFilter(filter)" active="false"></filter>
			</span>
	</div>
</div>